# R Users

## Working with the file system
In R you can work with the file system. R can do anything you can do with files across your network so you need to be careful.

#### Principles
- Interact with files through pre-defined interfaces geared towards the type of file you want to access
- Use relative references

#### Good examples
#### Bad examples
#### Background

### File locations
- Working directory
- Network files


#### Principles
#### Good examples
#### Bad examples
#### Background

### File permissions
- Execute permissions
- Groups

### Cleanup
- The use of `on.exit`
- The use of `unlink`


#### Principles
#### Good examples
#### Bad examples
#### Background

## Unsafe sourcing
Don't source files from internet without checking them!

You should understand somethting entirely before you execute it and you should verify that a file is the same file you were expecting.

Using the package `notary`, you can do this easily:
```{r}
library(notary)
```


#### Principles
#### Good examples
#### Bad examples
#### Background

## Dynamic string creation & SQL injection
If you're pulling data from a source and using it to construct strings that you'll then execute, you need to be careful.

You might have seen this comic before:
![XKCD Exploits of a Mom](https://imgs.xkcd.com/comics/exploits_of_a_mom.png)

This works when a string gets constructed with special characters that are counted as code delimiters. In R and SQL, this is a `;`.

To avoid this issue:
- "Cleanse" parameters (**how?**)
- Use paramaterised executions with RODBC
 
## Password handling
- Never store passwords in files that go into source control!

<Info on how to store keys safely>

## System calls
You can execute any command-line code from R. This gives you a lot of access to functionality that can be dangerous! 
